{% extends "layout.html" %}
{% block body %}
    <script type="text/javascript">

        function loadRandom() {
            $(function () {
                $.getJSON(
                    $SCRIPT_ROOT + '/random',
                    {},
                    function (data) {
                        $('#result').text(data.result);
                    }
                );
                return false;
            })
        }

        setInterval(loadRandom, 1000);

{#        $(function () {#}
{#            var submit_form = function (e) {#}
{#                $.getJSON(#}
{#                    $SCRIPT_ROOT + '/random', {#}
                        {#a: $('input[name="a"]').val(),#}
                        {#b: $('input[name="b"]').val()#}
{#                    }, function (data) {#}
{#                        $('#result').text(data.result);#}
{#                    });#}
{#                return false;#}
{#            };#}
{##}
{#            $('a#calculate').bind('click', submit_form);#}
{##}
            {#            $('input[type=text]').bind('keydown', function (e) {#}
            {#                if (e.keyCode == 13) {#}
            {#                    submit_form(e);#}
            {#                }#}
            {#            });#}
{##}
            {#            $('input[name=a]').focus();#}
{#        });#}
    </script>

    <h1>jQuery Example</h1>

    <p>
        <span id="result">?</span>
    </p>

{#    <a href=# id="calculate">calculate server side</a>#}
{% endblock %}
